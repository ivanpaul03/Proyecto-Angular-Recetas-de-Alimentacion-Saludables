<div class="video-bg">
  <video autoplay muted loop>
    <source src="assets/videos/fondoLoginRegistro.mp4" type="video/mp4" />
    Tu navegador no soporta el video.
  </video>
</div>
<div class="registro-container">
  <h2>Crear cuenta</h2>
  <form (ngSubmit)="onRegister()" #registroForm="ngForm">
    <div class="form-group">
      <label for="nombre">Nombre</label>
      <input [(ngModel)]="nombre" name="nombre" id="nombre" required />
    </div>

    <div class="form-group">
      <label for="apellidos">Apellidos</label>
      <input [(ngModel)]="apellidos" name="apellidos" id="apellidos" required />
    </div>

    <div class="form-group">
      <label for="dni">DNI</label>
      <input [(ngModel)]="dni" name="dni" id="dni" required />
    </div>

    <div class="form-group">
      <label for="telefono">Teléfono</label>
      <input [(ngModel)]="telefono" name="telefono" id="telefono" />
    </div>

    <div class="form-group">
      <label for="email">Email</label>
      <input
        type="email"
        [(ngModel)]="email"
        name="email"
        id="email"
        required
      />
    </div>

    <div class="form-group">
      <label for="usuario">Usuario</label>
      <input [(ngModel)]="usuario" name="usuario" id="usuario" required />
    </div>

    <div class="form-group">
      <label for="contrasena">Contraseña</label>
      <input
        type="password"
        [(ngModel)]="contrasena"
        name="contrasena"
        id="contrasena"
        required
        minlength="6"
      />
    </div>

    <div class="form-group">
      <label for="repetirContrasena">Repetir Contraseña</label>
      <input
        type="password"
        id="repetirContrasena"
        name="repetirContrasena"
        [(ngModel)]="repetirContrasena"
        required
      />
    </div>
    <br />
    <div class="mostrar-contrasena">
      <input
        type="checkbox"
        id="mostrarContrasena"
        (change)="toggleMostrarContrasena($event)"
      />
      <label for="mostrarContrasena">Mostrar contraseña</label>
    </div>

    <div *ngIf="contrasena !== repetirContrasena && repetirContrasena">
      <span style="color: red">Las contraseñas no coinciden</span>
    </div>

    <button type="submit" [disabled]="isLoading">
      {{ isLoading ? "Registrando..." : "Registrarse" }}
    </button>
  </form>

  <div class="mensaje" *ngIf="mensaje" [class.error]="mensaje.includes('❌')">
    {{ mensaje }}
  </div>

  <div *ngIf="isLoading" class="loading-spinner"></div>
</div>
